<!DOCTYPE html>
<html>
  <head>
    <title>My Chatbot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cyborg/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
      Instructions for Demo Use
    </button>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Current Chatbot Features & Usage</h4>
          </div>
          <div class="modal-body">
            <h5> Developer Notes: </h5>
            <ul>
              <li> I'm very interested in the way machine learning and general AI works, so this web application was built for personal use with the idea to continue to scale out over time and use as a virtual personal assistant. </li>
              <li> Voice Commands work on Chrome browsers only. </li>
            </ul>
            <h5> Technologies Used: </h5>
            <ul>
              <li> Server-side: Node.js, Express, MongoDB </li>
              <li> Client-side: Bootstrap, jQuery, AJAX </li>
              <li> AI: API.ai </li>
              <li> Speech: Chrome Web Speech API and HTML5 Webkit Speech Recognition API </li>
            </ul>
            <h5> Features </h5>
            <ul>
              <li> Small Talk: </li>
              <li> Task Listing & Prioritization: </li>
            </ul>
            <h5> Directions for Use </h5>
            <ul>
              <li> Voice Command: </li>
              <li> Text Inputs: </li>
              <li> Task Creation: </li>
              <li> Task Creation by Urgency: </li>
              <li> Task Completion: </li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="chat-container">
      <input id="speech" type="text">
      <button id="rec" class="btn btn-primary">Speak</button>
      <div id="spokenResponse" class="spoken-response">
        <div class="spoken-response-text"></div>
      </div>
    </div>
    <div class="debug">
      <div class="debug-btn btn">
        View AI JSON Results
      </div>
      <div class="debug-content">
        <textarea id="response" cols="40" rows="20"></textarea>
      </div>
    </div>
    <div class="task">
      <div class="task-btn btn">
        Show Task List
      </div>
      <div class="task-content">
        <div id="task-list">
          <% tasks.forEach(function(task) { %>
            <div id="task-item" <% if (task.completed)  { %> class="strike" <% } %> data-id="<%= task._id %>">
              <h6><%= task.name %><i class="fa fa-trash-o" aria-hidden="true"></i></h6> <p> Priority: <%= task.priority %> </p>
            </div>
          <% }) %>
        </div>
      </div>
    </div>

    <script src="https://use.fontawesome.com/2c06b0ed41.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
      var accessToken = "<%= process.env.ACCESS_TOKEN %>";
    </script>
    <script type="text/javascript" src='/javascripts/main.js'></script>
  </body>
</html>

